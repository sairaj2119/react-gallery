{"version":3,"sources":["context/StateProvider.jsx","components/Landing.jsx","api/unsplash.jsx","components/ImageCard.jsx","components/ImageList.jsx","components/Main.jsx","App.jsx","context/reducer.jsx","index.jsx"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Landing","results","console","log","className","axios","create","baseURL","headers","Authorization","ImageCard","image","imgRef","useRef","useState","spans","setSpans","knowHowManySpans","height","current","clientHeight","Math","ceil","useEffect","addEventListener","style","gridRowEnd","ref","src","urls","regular","alt","alt_description","Images","id","photos","dispatch","fetchImages","pageNo","a","unsplash","get","params","page","res","type","payload","data","images","map","key","Main","match","random","fetchData","per_page","to","onClick","result","parseInt","title","App","exact","path","render","routeProps","state","action","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d14c9a8.chunk.js","sourcesContent":["import React, { createContext, useReducer, useContext } from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import React from 'react';\r\nimport '../css/Landing.css';\r\n// import unsplash from '../api/unsplash';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { useStateValue } from '../context/StateProvider';\r\n\r\nconst Landing = () => {\r\n  const [{ results }] = useStateValue();\r\n\r\n  console.log(results);\r\n\r\n  return (\r\n    <div className=\"landing\">\r\n      <div className=\"landing__container\">\r\n        <div className=\"landing__title\">\r\n          Internship Task by &copy; Bipolar Factory\r\n        </div>\r\n        <div className=\"landing__subtitle\">\r\n          Image Gallery using Unsplash API\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://api.unsplash.com',\r\n  headers: {\r\n    Authorization: 'Client-ID o3_DLH609VLMVYG5UZW_MX3j3iWEK53cN-oivXtAu0k',\r\n  },\r\n});\r\n","import React, { useRef, useState, useEffect } from 'react';\r\n\r\nconst ImageCard = ({ image }) => {\r\n  const imgRef = useRef();\r\n  const [spans, setSpans] = useState(0);\r\n\r\n  const knowHowManySpans = () => {\r\n    const height = imgRef?.current?.clientHeight;\r\n    const spans = Math.ceil(height / 10 + 1);\r\n    setSpans(spans);\r\n  };\r\n\r\n  useEffect(() => {\r\n    imgRef.current.addEventListener('load', knowHowManySpans);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ gridRowEnd: `span ${spans}` }}>\r\n      <img ref={imgRef} src={image.urls.regular} alt={image.alt_description} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageCard;\r\n","import React, { useEffect } from 'react';\r\nimport '../css/ImageList.css';\r\nimport unsplash from '../api/unsplash';\r\nimport { useStateValue } from '../context/StateProvider';\r\nimport ImageCard from './ImageCard';\r\n\r\nconst Images = ({ id }) => {\r\n  const [{ photos }, dispatch] = useStateValue();\r\n  const fetchImages = async (pageNo) => {\r\n    const res = await unsplash.get(`/collections/${id}/photos`, {\r\n      params: { page: pageNo },\r\n    });\r\n    dispatch({ type: 'ADD_IMAGES', payload: res.data });\r\n  };\r\n  useEffect(() => {\r\n    fetchImages();\r\n  }, [id]);\r\n\r\n  const images = photos.map((image) => {\r\n    return <ImageCard key={image.id} image={image} />;\r\n  });\r\n\r\n  return <div className=\"image-list\">{images}</div>;\r\n};\r\n\r\nexport default Images;\r\n","import React, { useEffect } from 'react';\r\nimport '../css/Main.css';\r\nimport { Link } from 'react-router-dom';\r\n// import { useHistory } from 'react-router-dom';\r\nimport { useStateValue } from '../context/StateProvider';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport unsplash from '../api/unsplash';\r\nimport ImageList from './ImageList';\r\n\r\nconst Main = ({ match }) => {\r\n  const [{ results }, dispatch] = useStateValue();\r\n  let random = Math.ceil(Math.random() * 100);\r\n  async function fetchData() {\r\n    const res = await unsplash.get('/collections', {\r\n      params: { page: random, per_page: 5 },\r\n    });\r\n    dispatch({ type: 'ADD_DATA', payload: res.data });\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  let activeClass = 'main__navbarLink main__navLink-active';\r\n\r\n  console.log(match);\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <nav className=\"main__navbar\">\r\n        <ul>\r\n          <Link\r\n            className=\"main__navbarLink\"\r\n            to=\"/search-results\"\r\n            onClick={() => {\r\n              fetchData();\r\n              dispatch({ type: 'EMPTY_IMAGES' });\r\n            }}\r\n          >\r\n            <li>Random collections</li>\r\n          </Link>\r\n          <li>\r\n            <ArrowForwardIosIcon />\r\n          </li>\r\n          {results.map((result) => (\r\n            <Link\r\n              to={`/collections/${result?.id}`}\r\n              className={\r\n                parseInt(match?.params.id) === result?.id\r\n                  ? activeClass\r\n                  : 'main__navbarLink'\r\n              }\r\n              onClick={console.log(parseInt(match?.params.id) === result?.id)}\r\n            >\r\n              <li> {result.title} </li>{' '}\r\n            </Link>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n      <div className=\"main__content\">\r\n        <ImageList id={match?.params.id} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport './App.css';\nimport Landing from './components/Landing';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Landing />\n            <Main />\n          </Route>\n          <Route exact path=\"/search-results\">\n            <Landing />\n            <Main />\n          </Route>\n          <Route\n            exact\n            path=\"/collections/:id\"\n            render={(routeProps) => (\n              <>\n                <Landing />\n                <Main {...routeProps} />\n              </>\n            )}\n          />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","export const initialState = {\r\n  results: [],\r\n  photos: [],\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case 'ADD_DATA':\r\n      return {\r\n        results: [...action.payload],\r\n        photos: [...state.photos],\r\n      };\r\n    case 'ADD_IMAGES':\r\n      return {\r\n        results: [...state.results],\r\n        photos: [...action.payload],\r\n      };\r\n    case 'EMPTY_IMAGES':\r\n      return {\r\n        ...state,\r\n        photos: [],\r\n      };\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './context/StateProvider';\nimport reducer, { initialState } from './context/reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider reducer={reducer} initialState={initialState}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}