(this["webpackJsonpintern-task"]=this["webpackJsonpintern-task"]||[]).push([[0],{37:function(e,t,a){e.exports=a(73)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(33),l=a.n(r),i=(a(42),a(43),a(11)),o=(a(44),Object(n.createContext)()),s=function(e){var t=e.reducer,a=e.initialState,r=e.children;return c.a.createElement(o.Provider,{value:Object(n.useReducer)(t,a)},r)},u=function(){return Object(n.useContext)(o)},m=function(){var e=u(),t=Object(i.a)(e,1)[0].results;return console.log(t),c.a.createElement("div",{className:"landing"},c.a.createElement("div",{className:"landing__container"},c.a.createElement("div",{className:"landing__title"},"Internship Task by \xa9 Bipolar Factory"),c.a.createElement("div",{className:"landing__subtitle"},"Image Gallery using Unsplash API")))},d=a(14),p=a(2),v=a(12),E=a.n(v),f=a(17),h=(a(46),a(35)),b=a.n(h),_=a(34),g=a.n(_).a.create({baseURL:"https://api.unsplash.com",headers:{Authorization:"Client-ID o3_DLH609VLMVYG5UZW_MX3j3iWEK53cN-oivXtAu0k"}}),j=(a(64),function(e){var t=e.image,a=Object(n.useRef)(),r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],s=l[1],u=function(){var e,t=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.clientHeight,n=Math.ceil(t/10+1);s(n)};return Object(n.useEffect)((function(){a.current.addEventListener("load",u)}),[]),c.a.createElement("div",{style:{gridRowEnd:"span ".concat(o)}},c.a.createElement("img",{ref:a,src:t.urls.regular,alt:t.alt_description}))}),O=function(e){var t=e.id,a=u(),r=Object(i.a)(a,2),l=r[0].photos,o=r[1],s=function(){var e=Object(f.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/collections/".concat(t,"/photos"),{params:{page:a}});case 2:n=e.sent,o({type:"ADD_IMAGES",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[t]);var m=l.map((function(e){return c.a.createElement(j,{key:e.id,image:e})}));return c.a.createElement("div",{className:"image-list"},m)},y=function(e){var t=e.match,a=u(),r=Object(i.a)(a,2),l=r[0].results,o=r[1],s=Math.ceil(100*Math.random());function m(){return p.apply(this,arguments)}function p(){return(p=Object(f.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/collections",{params:{page:s,per_page:5}});case 2:t=e.sent,o({type:"ADD_DATA",payload:t.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){m()}),[]);return console.log(t),c.a.createElement("div",{className:"main"},c.a.createElement("nav",{className:"main__navbar"},c.a.createElement("ul",null,c.a.createElement(d.b,{className:"main__navbarLink",to:"/search-results",onClick:function(){m(),o({type:"EMPTY_IMAGES"})}},c.a.createElement("li",null,"Random collections")),c.a.createElement("li",null,c.a.createElement(b.a,null)),l.map((function(e){return c.a.createElement(d.b,{to:"/collections/".concat(null===e||void 0===e?void 0:e.id),className:parseInt(null===t||void 0===t?void 0:t.params.id)===(null===e||void 0===e?void 0:e.id)?"main__navbarLink main__navLink-active":"main__navbarLink",onClick:console.log(parseInt(null===t||void 0===t?void 0:t.params.id)===(null===e||void 0===e?void 0:e.id))},c.a.createElement("li",null," ",e.title," ")," ")})))),c.a.createElement("div",{className:"main__content"},c.a.createElement(O,{id:null===t||void 0===t?void 0:t.params.id})))};var k=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(d.a,null,c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/"},c.a.createElement(m,null),c.a.createElement(y,null)),c.a.createElement(p.a,{exact:!0,path:"/search-results"},c.a.createElement(m,null),c.a.createElement(y,null)),c.a.createElement(p.a,{exact:!0,path:"/collections/:id",render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m,null),c.a.createElement(y,e))}}))))},A=a(21),D=a(15),M=function(e,t){switch(console.log(t),t.type){case"ADD_DATA":return{results:Object(D.a)(t.payload),photos:Object(D.a)(e.photos)};case"ADD_IMAGES":return{results:Object(D.a)(e.results),photos:Object(D.a)(t.payload)};case"EMPTY_IMAGES":return Object(A.a)(Object(A.a)({},e),{},{photos:[]});default:return}};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s,{reducer:M,initialState:{results:[],photos:[]}},c.a.createElement(k,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.1d14c9a8.chunk.js.map